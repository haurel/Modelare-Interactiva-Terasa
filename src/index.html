<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name = "viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie-edge">
    <link rel="stylesheet" href="/src/css/menu.css">
    <link href='https://fonts.googleapis.com/css?family=Cabin+Condensed:700' rel='stylesheet' type='text/css'>
    <script src="/src/css/js/menu-script.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <title>Three JS</title>
</head>
<body>
    <div id="header">
        <div class="design wave">
            Exterior Design
        </div>
        <div id="image-container">
            <!-- style="border: 1px solid rgb(66, 245, 78);" -->
            <img class="image-right" src="./css/image/drag.png"  onClick="Action('drag')"/>
            <img class="image-right" src="./css/image/rotate.png" onClick="Action('rotate')"/>
            <img class="image-right" src="./css/image/delete.png" onClick="Action('delete')"/>
            <img class="image-right" src="./css/image/paint.png" onClick="Action('paint')"/>
        </div>
    </div>
    <div id="mySidenav" class="sidenav">
        <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
        <!-- ---------------------------------------------------------------------------------------------------------------------------------- -->
        <!-- Terace Size -->
        <button class="dropdown-btn">Terace Settings
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <div class="button_div">
                <button class="button_class" onClick="TeraceMode('custom')">Custom
                    <span class="tooltiptext">Customizarea terasei prin plasare de puncte. Dupa plasarea punctelor se va
                        apasa tasta 'z' si ce vor uni punctele cu o linie si pentru a finaliza operatia se va apasa tasta 'x'.
                    </span>
                </button>
                <button class="button_class" onClick="TeraceMode('default')">Default
                    <span class="tooltiptext">Plasare a unei terase care are dimensiuni statice de 7x5 metri.</span>
                </button>
            </div>
        </div>
        <!-- ---------------------------------------------------------------------------------------------------------------------------------- -->
        <!-- Camera -->
        <button class="dropdown-btn">Camera Position
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <div class="button_div">
                <button class="button_class" onClick="ChangeView('2D')">Top View
                    <span class="tooltiptext cameratooltip">Modul de vizualizare a scenei cu vedere de sus.
                    </span>
                </button>
                <button class="button_class" onClick="ChangeView('3D')">Front View
                    <span class="tooltiptext cameratooltip">Modul de vizualizare a scenei <br />cu vedere a intregii curtii.
                    </span>
                </button>
                <button class="button_class" onClick="ChangeView('Both')">Both
                    <span class="tooltiptext cameratooltip">Combinate <br />cele 2 vizualizari.
                    </span>
                </button>
            </div>
        </div>
        <!-- ---------------------------------------------------------------------------------------------------------------------------------- -->
        <!-- HOUSE -->
        <button class="dropdown-btn">House Colors
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <section id="photos" class="house">
                <!-- <img src="./css/image/textures/house/1.jpg" onclick = "init(this.src)" class="img_select">
                <img src="./css/image/textures/house/2.jpg" onclick = "init(this.src)" class="img_select"> -->
            </section>

            <input type="image" id="input_image" src="/src/css/image/upload.png" width="10%"/>
            <input type="file" id="input_file" style="display: none"/>
            <!--onchange="readURL(this);" -->
        </div>
        <!-- ---------------------------------------------------------------------------------------------------------------------------------- -->
        <!-- HOUSE -->
        <button class="dropdown-btn">Terace Model
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <section id="photos" class="terace">
                <div class="hvrbox">
                    <img src="css/image/terasa/1.png">
                    <div class="hvrbox-layer_top" class="img_select" onclick="teraceChange('css/image/terasa/1.png')">
                        <div class="hvrbox-text"> 10x16 &nbsp; 43.67m<sup>2</sup></div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="css/image/terasa/2.png" class="img_select">
                    <div class="hvrbox-layer_top" class="img_select" onclick="teraceChange('css/image/terasa/2.png')">
                        <div class="hvrbox-text" > 12x20cm&nbsp; 50.16lei/m<sup>2</sup></div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="css/image/terasa/3.png">
                    <div class="hvrbox-layer_top" class="img_select" onclick="teraceChange('css/image/terasa/3.png')">
                        <div class="hvrbox-text"> 33x33cm &nbsp; 28.99lei/m<sup>2</sup></div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="css/image/terasa/4.png" class="img_select">
                    <div class="hvrbox-layer_top" class="img_select" onclick="teraceChange('css/image/terasa/4.png')">
                        <div class="hvrbox-text" > 25x25cm &nbsp; 15.55lei/m<sup>2</sup></div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="css/image/terasa/5.png" class="img_select">
                    <div class="hvrbox-layer_top" class="img_select" onclick="teraceChange('css/image/terasa/5.png')">
                        <div class="hvrbox-text" > 19.3x120.3cm &nbsp; 18.74lei/m<sup>2</sup></div>
                    </div>
                </div>
            </section>

            <input type="image" id="input_image" src="/src/css/image/upload.png" width="10%"/>
            <input type="file" id="input_file" style="display: none"/>
            <!--onchange="readURL(this);" -->
        </div>
        <!-- ---------------------------------------------------------------------------------------------------------------------------------- -->
        <!-- OBJECTS -->
        <button class="dropdown-btn">Chair
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <section id="photos">
                <div class="hvrbox">
                    <img src="/src/css/image/object-menu/chair_001.png" />
                    <div class="hvrbox-layer_top" onclick="takeModel('chair_001')">
                        <div class="hvrbox-text"> 78.32 lei</div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="/src/css/image/object-menu/chair_003.png" />
                    <div class="hvrbox-layer_top" onclick="takeModel('chair_003')">
                        <div class="hvrbox-text"> 99.99 lei</div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="/src/css/image/object-menu/chair_004.png" />
                    <div class="hvrbox-layer_top" onclick="takeModel('chair_004')">
                        <div class="hvrbox-text"> 128.99 lei</div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="/src/css/image/object-menu/chair_006.png" />
                    <div class="hvrbox-layer_top" onclick="takeModel('chair_006')">
                        <div class="hvrbox-text"> 53.99 lei</div>
                    </div>
                </div>
                <div class="hvrbox">
                    <img src="/src/css/image/object-menu/chair_007.png" />
                    <div class="hvrbox-layer_top" onclick="takeModel('chair_007')">
                        <div class="hvrbox-text"> 102 lei</div>
                    </div>
                </div>
                
                
                
                <!-- <input onclick="takeModel('chair_model_1')" type="image" id="model" src="/src/css/image/object-menu/chair_003.png"/> -->
                <!--<input onclick="takeModel('chair_model_2')" type="image" id="model" src="/src/css/image/upload.png"/>
                <input onclick="takeModel('chair_model_1')" type="image" id="model" src="/src/css/image/upload.png"/>-->
            </section>
        </div>
        <button class="dropdown-btn">
            Tables
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <section id="photos">
                <img src="/src/css/image/object-menu/masa_001.png" onclick="takeModel('masa_001')" class="img_select"/>

            </section>
        </div>
        <button class="dropdown-btn">
            Complete setup
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <section id="photos">
                <img src="/src/css/image/object-menu/masa_picnic.png" onclick="takeModel('masa_picnic')" class="img_select"/>

            </section>
        </div>
        <!-- ---------------------------------------------------------------------------------------------------------------------------------- -->
        <button class="dropdown-btn">
            Price
            <i class="fa fa-caret-down"></i>
        </button>
        <div class="dropdown-container">
            <div class="totalPrice">
                <p id="m2"> Total bucati pe m<sup>2</sup> </p>
                <p id="materialNeeded"> Totalul de bucati necesare </p>
                <p id="price"> Pret terase: </p>
                <p id="objects"></p>
            </div>
        </div>
    </div>
      
    <!-- Use any element to open the sidenav -->
    <span onclick="openNav()" class="imageClass"><img border="0" alt="ExtendMenu" src="/src/css/image/right.png" width="32" height="32"></span>

   
    <!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
  
    <div class="iframe" id="main">
        <div id="datGUI"></div>
        <div id="toolTipScene"><span>123</span></div>
    </div>

    

    <script>
        document.getElementById('input_file').addEventListener('change', readFile, false);

        function readFile(e){
            var userImage = e.target.files[0];     
            var userImageURL = URL.createObjectURL( userImage );

            console.log(userImageURL);
        }

        $("#image-container .image-right").click(function(){
            $("#image-container .image-right").css("border","1px solid");
            $("#image-container .image-right").css("border-color", "#f54245"); 
            $(this).css("border","1px solid");
            $(this).css("border-color", "#42f54e"); 
        }); 

        var dropdown = document.getElementsByClassName("dropdown-btn");
        var i;

        for (i = 0; i < dropdown.length; i++) {
            dropdown[i].addEventListener("click", function() {
                this.classList.toggle("active");
                var dropdownContent = this.nextElementSibling;
                if (dropdownContent.style.display === "block") {
                    dropdownContent.style.display = "none";
                } else {
                    dropdownContent.style.display = "block";
                }
            });
        }
        
        var sectionImage = document.getElementsByClassName('house');

        var image = '';
        //var src = "css/image/textures/house/";
        //var src = "./dist/img/";
        var src = "dist/img/house/";
        var ext = ".jpg";
        var srcComplete;

        for(var i = 0; i < 2; i++){
            srcComplete = src + (i+1) + ext;
            //console.log(srcComplete.toString());
            var image = document.createElement("img");
            image.setAttribute("src", srcComplete);
            image.setAttribute("onclick", "init(this.src)");
            image.setAttribute("class", "img_select");
            //image.setAttribute("onclick", "getSelectedColor(this.src)");
            document.getElementById('photos').appendChild(image);
            
            //image += '<img src= "'+srcComplete+'" alt="colors house" >';
            //sectionImage.innerHTML += '<img src="./css/image/textures/house/' + i + '.jpg" />';
            //console.log(image);
        }
        //document.getElementById('photos').innerHTML += image;


        /* var sectionImage = document.getElementsByClassName('terace');

        var image = '';
        var src = "dist/img/terace/";
        var ext = ".png";
        var srcComplete;

        for(var i = 0; i < 5; i++){
            srcComplete = src + (i+1) + ext;
            console.log(srcComplete.toString());
            var image = document.createElement("img");
            image.setAttribute("src", srcComplete);
            image.setAttribute("onclick", "teraceChange(this.src)");
            image.setAttribute("class", "img_select");

            var div = document.createElement('div');
            div.setAttribute("class", "overlay");

            var divText = document.createElement('div')
            divText.innerText = "Salut";
            divText.setAttribute("class", "text");

            div.appendChild( divText );

            //image.setAttribute("onclick", "getSelectedColor(this.src)");
            document.getElementsByClassName('terace')[0].appendChild(image);
        } */

        $("input[id='input_image']").click(function() {
            $("input[id='input_file']").click();
        });
        // jQuery Solution for Showing Uploaded Image
        function readURL(input) {
            if (input.files && input.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    var image = document.createElement("img");
                    image.setAttribute("src", e.target.result);
                    //image.setAttribute("src", input.files[0]);
                    image.setAttribute("onclick", "init(this.src)");
                    image.setAttribute("class", "img_select");
                    document.getElementById('photos').appendChild(image);
                    console.log(image);
                    
                    // $('#input_image')
                    //  .attr({'src' : e.target.result, 'class' : 'img_select'}); 
                };
                
                reader.readAsDataURL(input.files[0]); 


            }
        }
    </script>
        
</body>

</html>